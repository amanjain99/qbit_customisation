import { SKIN_TONES } from '../data/assets';

// Expression SVG data - face paths and feature paths (eyes, mouth, etc.)
// Face paths use skin tone color, feature paths keep their original colors
const EXPRESSION_DATA = {
  basic: {
    facePaths: [
      { d: "M50.8597 150.62C50.8297 151.08 50.8097 151.39 50.6497 151.71C50.4197 151.86 50.1997 152 49.9997 152.14C49.9897 151.8 49.9797 151.46 49.9797 151.12C50.2497 150.97 50.5397 150.81 50.8597 150.62Z", fillRule: "evenodd" },
      { d: "M137.33 195.76C137.33 195.76 137.32 195.79 137.32 195.8C137.16 195.82 137 195.84 136.84 195.86C136.99 195.83 137.15 195.79 137.33 195.76Z", fillRule: "evenodd" },
      { d: "M153.059 193.41C153.059 193.41 152.959 193.43 152.899 193.44C152.949 193.42 152.999 193.41 153.049 193.39C153.049 193.4 153.059 193.4 153.059 193.41Z", fillRule: "evenodd" },
      { d: "M203.26 143.82C203.26 143.82 203.26 143.86 203.25 143.88C203.11 145.64 202.91 147.39 202.66 149.1C202.15 152.75 201.43 156.22 200.6 159.3C200.6 159.33 200.58 159.36 200.58 159.38C200.51 159.63 200.44 159.87 200.38 160.11C200.16 160.87 199.94 161.6 199.72 162.31C198.83 165.08 197.88 167.4 196.94 169.03C196.76 169.34 196.59 169.64 196.41 169.94C195.9 170.82 195.37 171.67 194.82 172.5C190.81 178.67 185.89 183.69 177.92 187.13C176.34 187.81 173.62 188.69 170.02 189.67C170.01 189.67 170 189.67 169.99 189.68C169.52 189.8 169.03 189.93 168.53 190.05C167.85 190.23 167.14 190.41 166.4 190.59C166.37 190.59 166.35 190.59 166.32 190.61C166.24 190.63 166.15 190.65 166.06 190.67C165.47 190.74 164.97 190.87 164.51 191.01C164.46 191.02 164.41 191.03 164.36 191.05C164.17 191.1 163.99 191.15 163.82 191.2C161.37 191.77 158.7 192.34 155.85 192.89C155.55 192.95 155.25 193.01 154.94 193.06C154.92 193.07 154.89 193.07 154.86 193.07C154.43 193.16 154 193.24 153.56 193.32C153.51 193.33 153.45 193.34 153.4 193.35C153.33 193.36 153.26 193.38 153.19 193.39C153.15 193.4 153.11 193.4 153.06 193.41C153.06 193.41 153.05 193.41 153.05 193.39C153 193.41 152.95 193.42 152.9 193.44C152.4 193.53 151.88 193.63 151.36 193.71C150.83 193.8 150.29 193.9 149.74 193.99C147.2 194.42 144.55 194.83 141.83 195.21C141.23 195.3 140.63 195.38 140.02 195.45C139.17 195.57 138.32 195.68 137.46 195.78C137.41 195.78 137.37 195.8 137.32 195.8C137.32 195.79 137.33 195.77 137.33 195.76C137.15 195.79 136.99 195.83 136.84 195.86C135.2 196.06 133.55 196.24 131.87 196.4C131.35 196.46 130.82 196.51 130.29 196.56C129.95 196.6 129.6 196.63 129.25 196.66H129.21C127.86 196.78 126.5 196.89 125.13 196.99C125.02 197 124.92 197.01 124.81 197.01C117.93 197.49 110.9 197.66 104.06 197.38C102.75 197.33 101.46 197.26 100.17 197.17H100.16C100.16 197.17 100.11 197.17 100.08 197.16C99.8397 197.16 99.6097 197.13 99.3697 197.11C99.0197 197.08 98.6697 197.06 98.3297 197.02C98.2797 197.02 98.2397 197.01 98.1897 197.01C98.1697 197.02 98.1497 197.02 98.1397 197.01C97.7297 196.98 97.3097 196.94 96.9097 196.91C96.8697 196.91 96.8297 196.91 96.7997 196.91C96.7597 196.91 96.7197 196.9 96.6797 196.9C96.6097 196.89 96.5497 196.88 96.4897 196.88C96.2797 196.85 96.0597 196.83 95.8397 196.81C95.7297 196.8 95.6297 196.79 95.5197 196.78C95.0997 196.74 94.6797 196.69 94.2697 196.64C94.2097 196.63 94.1497 196.63 94.0897 196.62C92.2897 196.41 90.5097 196.15 88.7697 195.85C88.0397 195.73 87.3097 195.6 86.5997 195.45C86.2997 195.4 85.9997 195.34 85.7097 195.27C85.3197 195.2 84.9397 195.12 84.5597 195.04C84.5397 195.04 84.5197 195.04 84.5097 195.03C84.0597 194.94 83.6197 194.84 83.1897 194.73C83.1697 194.73 83.1497 194.73 83.1297 194.71C82.8197 194.65 82.5197 194.57 82.2097 194.49C82.1297 194.47 82.0397 194.44 81.9597 194.42H81.9497C81.4297 194.3 80.9197 194.16 80.4097 194.01H80.3897C79.9197 193.88 79.4497 193.75 78.9897 193.61C72.6697 191.72 67.0697 189.05 62.6197 185.41H62.5597C54.5197 178.83 50.9597 167.54 50.1497 155.16C50.0897 154.16 50.0397 153.16 50.0097 152.15C50.2097 152.01 50.4297 151.87 50.6597 151.72C50.8197 151.4 50.8397 151.09 50.8697 150.63C50.5497 150.82 50.2597 150.98 49.9897 151.13V151.03C49.9697 150.35 49.9697 149.68 49.9697 149.01V148.98C49.9697 147.86 49.9997 146.74 50.0397 145.61C50.0797 144.51 50.1397 143.42 50.2097 142.33C50.3297 140.54 50.4897 138.76 50.6897 136.98C50.7597 136.39 50.8297 135.8 50.9097 135.21C50.9597 134.75 51.0197 134.3 51.0797 133.85V133.83C51.6197 129.96 52.3297 126.18 53.1597 122.61C53.6797 120.31 54.2597 118.09 54.8797 115.98H54.8697C55.0797 115.15 55.3097 114.33 55.5497 113.51C55.5497 113.51 55.5531 113.503 55.5597 113.49C55.7397 112.87 55.9397 112.25 56.1497 111.63C56.4897 110.6 56.8597 109.58 57.2597 108.57C57.2697 108.55 57.2697 108.54 57.2797 108.53C57.6297 107.63 58.0097 106.74 58.4097 105.87C58.6597 105.3 58.9297 104.74 59.2097 104.18C59.2097 104.18 59.2131 104.173 59.2197 104.16C59.3297 103.92 59.4397 103.69 59.5597 103.46C59.9597 102.65 60.3497 101.9 60.7497 101.22C60.8097 101.11 60.8697 101.01 60.9297 100.91C65.6997 92.53 72.4897 85.28 80.9297 79.68C81.2497 79.46 81.5697 79.25 81.8997 79.04C82.7597 78.49 83.6297 77.96 84.5297 77.45C84.5797 77.41 84.6397 77.38 84.6997 77.35C85.0197 77.15 85.3597 76.97 85.6897 76.78C87.7397 75.65 89.8697 74.61 92.0797 73.67H92.0897C92.0897 73.67 92.1097 73.65 92.1297 73.65C92.6997 73.4 93.2797 73.16 93.8697 72.93H93.8897C94.6997 72.6 95.5197 72.29 96.3497 72C96.3997 71.98 96.4597 71.96 96.5097 71.94C96.9297 71.79 97.3597 71.64 97.7897 71.51C97.9797 71.43 98.1797 71.36 98.3697 71.32C98.3897 71.31 98.3997 71.31 98.4097 71.31C98.9197 71.12 99.4497 70.96 99.9697 70.81C99.9897 70.8 99.9997 70.8 100.02 70.8C100.06 70.78 100.1 70.77 100.14 70.77C107.97 68.43 116.57 67.21 125.81 67.34C138.27 67.51 149.1 69.39 158.34 72.6C161.16 73.58 163.84 74.68 166.37 75.89C166.41 75.91 166.45 75.93 166.49 75.95C167.54 76.46 168.56 76.99 169.56 77.53C169.73 77.62 169.89 77.71 170.05 77.8H170.06C170.66 78.14 171.25 78.48 171.82 78.82C172.82 79.41 173.79 80.03 174.73 80.66C175.08 80.89 175.42 81.12 175.76 81.36C176.27 81.72 176.77 82.08 177.26 82.45H177.27C177.9 82.92 178.52 83.4 179.12 83.89C179.13 83.89 179.14 83.89 179.14 83.9C179.52 84.21 179.89 84.51 180.25 84.82C180.6 85.12 180.95 85.41 181.29 85.72C182.06 86.4 182.81 87.1 183.53 87.81C183.99 88.26 184.43 88.72 184.87 89.18C184.89 89.2 184.92 89.22 184.94 89.25C185.29 89.62 185.63 90 185.97 90.37C186.79 91.29 187.57 92.22 188.31 93.17H188.32C189.14 94.22 189.91 95.28 190.63 96.36C190.63 96.36 190.64 96.36 190.64 96.37C191 96.9 191.34 97.43 191.68 97.97C191.68 97.97 191.7 98 191.69 98.01C191.7 98.01 191.7 98.02 191.7 98.02C191.91 98.34 192.11 98.67 192.3 99C192.88 99.95 193.41 100.92 193.92 101.9C194.5 103.05 195.05 104.21 195.55 105.38C195.55 105.39 195.56 105.39 195.56 105.39C195.82 106.02 196.07 106.64 196.31 107.26C196.45 107.62 196.58 107.98 196.71 108.34C196.71 108.34 196.72 108.35 196.72 108.36C196.82 108.64 196.91 108.91 197.01 109.19C197.19 109.61 197.38 110.03 197.56 110.47C197.56 110.47 197.56 110.47 197.57 110.49C197.95 111.43 198.34 112.39 198.71 113.38C198.98 114.09 199.24 114.81 199.49 115.54C199.51 115.58 199.52 115.61 199.53 115.65C199.7 116.12 199.86 116.59 200.01 117.07C200.03 117.12 200.05 117.18 200.07 117.24C200.14 117.46 200.21 117.64 200.29 117.85V117.91C200.31 118 200.34 118.09 200.37 118.19C200.82 119.6 201.25 121.03 201.63 122.53V122.62C202.05 124.27 202.42 125.96 202.74 127.69C203.04 129.35 203.25 131.07 203.37 132.83C203.41 133.32 203.44 133.83 203.46 134.33C203.62 137.45 203.53 140.66 203.27 143.83L203.26 143.82Z", fillRule: "evenodd" },
      { d: "M166.059 190.67C165.339 190.85 164.589 191.03 163.819 191.2C164.469 191.02 165.169 190.78 166.059 190.67Z", fillRule: "evenodd" },
    ],
    featurePaths: [
      { d: "M119.56 169.69C123.78 169.69 127.17 164.19 127.17 157.38C127.17 150.57 123.78 145.07 119.56 145.07C115.34 145.07 111.95 150.57 111.95 157.38C111.95 164.19 115.35 169.69 119.56 169.69Z", fill: "black" },
      { d: "M70.0993 165.8C74.3093 165.8 77.7093 160.6 77.7093 154.15C77.7093 147.7 74.3193 142.5 70.0993 142.5C65.8793 142.5 62.4893 147.7 62.4893 154.15C62.4893 160.6 65.8793 165.8 70.0993 165.8Z", fill: "black" },
    ]
  },
  happyhead: {
    facePaths: [
      { d: "M54.9084 116.013C48.5365 137.858 45.9156 171.765 62.5908 185.407H62.6508C91.0396 208.642 166.193 192.219 177.957 187.138C187.39 183.077 192.531 176.806 196.983 169.044C201.024 162.003 205.415 142.409 202.774 127.716C201.514 120.834 199.333 114.483 197.053 109.232C189.2 86.287 165.973 67.9433 125.85 67.3932C95.8311 66.9831 72.4939 80.7059 60.9603 100.96C60.5102 101.72 60.06 102.56 59.6099 103.471C57.5893 107.441 56.0188 111.642 54.9084 116.013Z", fillRule: "evenodd" },
    ],
    featurePaths: [
      { d: "M69.9618 156.81C74.0337 156.81 76.1084 158.923 78.7481 160.429C79.0689 160.612 79.4536 160.377 79.4337 160.008C79.2198 156.049 77.4073 147.811 69.9618 147.811C63.753 147.811 62.1036 154.352 61.9662 160.006C61.9572 160.375 62.34 160.604 62.64 160.388C64.3584 159.154 66.0374 156.81 69.9618 156.81Z", fill: "#130000" },
      { d: "M117.739 157.309C121.81 157.309 123.885 159.423 126.525 160.929C126.846 161.112 127.234 160.877 127.23 160.507C127.188 156.549 126.581 148.31 117.739 148.31C110.098 148.31 109.75 154.852 109.734 160.506C109.733 160.875 110.117 161.104 110.417 160.888C112.135 159.654 113.814 157.309 117.739 157.309Z", fill: "#130000" },
      { d: "M105.455 165.309H82.3314C81.2338 165.309 80.3407 166.2 80.4773 167.289C81.1034 172.281 84.1064 180.307 93.0042 180.307C103.356 180.307 106.939 172.75 107.311 167.167C107.381 166.122 106.502 165.309 105.455 165.309Z", fill: "black" },
      { d: "M101.469 167.308H84.3318C83.2342 167.308 82.3413 168.201 82.5279 169.283C83.1613 172.954 85.5913 178.307 92.1912 178.307C99.928 178.307 102.803 173.19 103.273 169.157C103.394 168.12 102.513 167.308 101.469 167.308Z", fill: "white" },
    ]
  },
  surprisehead: {
    facePaths: [
      { d: "M54.9084 116.013C48.5365 137.858 45.9156 171.765 62.5908 185.407H62.6508C91.0396 208.642 166.193 192.219 177.957 187.138C187.39 183.077 192.531 176.806 196.983 169.044C201.024 162.003 205.415 142.409 202.774 127.716C201.514 120.834 199.333 114.483 197.053 109.232C189.2 86.287 165.973 67.9433 125.85 67.3932C95.8311 66.9831 72.4939 80.7059 60.9603 100.96C60.5102 101.72 60.06 102.56 59.6099 103.471C57.5893 107.441 56.0188 111.642 54.9084 116.013Z", fillRule: "evenodd" },
    ],
    featurePaths: [
      { d: "M70.0993 165.8C74.3093 165.8 77.7093 160.6 77.7093 154.15C77.7093 147.7 74.3193 142.5 70.0993 142.5C65.8793 142.5 62.4893 147.7 62.4893 154.15C62.4893 160.6 65.8793 165.8 70.0993 165.8Z", fill: "black" },
      { d: "M119.56 169.69C123.78 169.69 127.17 164.19 127.17 157.38C127.17 150.57 123.78 145.07 119.56 145.07C115.34 145.07 111.95 150.57 111.95 157.38C111.95 164.19 115.35 169.69 119.56 169.69Z", fill: "black" },
      { d: "M100.5 177C100.5 183.351 96.1421 188.5 90.75 188.5C85.3579 188.5 81 183.351 81 177C81 170.649 85.3579 165.5 90.75 165.5C96.1421 165.5 100.5 170.649 100.5 177Z", fill: "black" },
    ]
  },
  chibihead: {
    facePaths: [
      { d: "M54.9084 116.013C48.5365 137.858 45.9156 171.765 62.5908 185.407H62.6508C91.0396 208.642 166.193 192.219 177.957 187.138C187.39 183.077 192.531 176.806 196.983 169.044C201.024 162.003 205.415 142.409 202.774 127.716C201.514 120.834 199.333 114.483 197.053 109.232C189.2 86.287 165.973 67.9433 125.85 67.3932C95.8311 66.9831 72.4939 80.7059 60.9603 100.96C60.5102 101.72 60.06 102.56 59.6099 103.471C57.5893 107.441 56.0188 111.642 54.9084 116.013Z", fillRule: "evenodd" },
    ],
    featurePaths: [
      // Eyes
      { d: "M119.598 169.694C123.819 169.694 127.211 164.202 127.211 157.391C127.211 150.58 123.819 145.089 119.598 145.089C115.377 145.089 111.996 150.58 111.996 157.391C111.996 164.202 115.387 169.694 119.598 169.694Z", fill: "#010101" },
      { d: "M70.1429 165.813C74.3542 165.813 77.7452 160.622 77.7452 154.17C77.7452 147.719 74.3542 142.528 70.1429 142.528C65.9316 142.528 62.5305 147.719 62.5305 154.17C62.5305 160.622 65.9216 165.813 70.1429 165.813Z", fill: "#010101" },
      // Cute "w" shaped mouth
      { d: "M91.5771 170.896C86.3368 182.33 73.3779 171.978 81.2452 164.919C81.5583 164.638 82.0108 165.007 81.8505 165.396C80.6643 168.274 80.0537 172.391 84.0758 173.396C86.721 173.837 90.1417 170.781 91.2589 168.337C91.3497 168.139 91.7952 168.141 91.88 168.342C92.981 170.959 96.4946 174.724 100.581 173.396C104.609 172.087 104.653 168.876 102.939 164.425C102.779 164.009 103.276 163.702 103.548 164.055C111.386 174.259 95.8505 181.813 91.5771 170.896Z", fill: "black" },
    ],
    // Additional elements (blush dots, eye highlights) rendered separately
    extraElements: [
      // Right cheek blush dots
      { type: 'ellipse', cx: 112.585, cy: 173.925, rx: 1.00031, ry: 1.00021, fill: "#F8856B" },
      { type: 'ellipse', cx: 119.586, cy: 174.936, rx: 1.00031, ry: 1.00021, fill: "#F8856B" },
      { type: 'ellipse', cx: 114.578, cy: 178.93, rx: 1.00031, ry: 1.00021, fill: "#F8856B" },
      // Left cheek blush dots
      { type: 'ellipse', cx: 67.562, cy: 172.943, rx: 1.0003, ry: 1.00022, fill: "#F8856C" },
      { type: 'ellipse', cx: 74.455, cy: 171.354, rx: 1.0003, ry: 1.00022, fill: "#F8856C" },
      { type: 'ellipse', cx: 71.23, cy: 176.888, rx: 1.0003, ry: 1.00022, fill: "#F8856C" },
    ],
    // Eye highlights use skin tone
    eyeHighlights: [
      { cx: 117.578, cy: 152.63, rx: 3.00093, ry: 4.00082 },
      { cx: 67.5621, cy: 149.629, rx: 3.00093, ry: 4.00082 },
    ]
  },
};

export function ExpressionSVG({ expressionId = 'basic', skinTone = 'default' }) {
  const skinColor = SKIN_TONES.find(t => t.id === skinTone)?.color || '#E5E5E5';
  const expressionData = EXPRESSION_DATA[expressionId] || EXPRESSION_DATA.basic;
  
  return (
    <svg 
      width="250" 
      height="414" 
      viewBox="0 0 250 414" 
      fill="none" 
      xmlns="http://www.w3.org/2000/svg"
      className="expression-svg"
    >
      {/* Face paths - use skin tone color */}
      {expressionData.facePaths.map((path, i) => (
        <path
          key={`face-${i}`}
          d={path.d}
          fill={skinColor}
          fillRule={path.fillRule}
          clipRule={path.fillRule}
        />
      ))}
      
      {/* Feature paths (eyes, mouth, etc.) - keep original colors */}
      {expressionData.featurePaths.map((path, i) => (
        <path
          key={`feature-${i}`}
          d={path.d}
          fill={path.fill}
        />
      ))}
      
      {/* Extra elements (blush dots, etc.) */}
      {expressionData.extraElements?.map((elem, i) => (
        elem.type === 'ellipse' && (
          <ellipse
            key={`extra-${i}`}
            cx={elem.cx}
            cy={elem.cy}
            rx={elem.rx}
            ry={elem.ry}
            fill={elem.fill}
          />
        )
      ))}
      
      {/* Eye highlights - use skin tone color */}
      {expressionData.eyeHighlights?.map((highlight, i) => (
        <ellipse
          key={`highlight-${i}`}
          cx={highlight.cx}
          cy={highlight.cy}
          rx={highlight.rx}
          ry={highlight.ry}
          fill={skinColor}
        />
      ))}
    </svg>
  );
}

